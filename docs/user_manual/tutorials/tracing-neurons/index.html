<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.103.0"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Tracing neurons | HortaCloud</title><meta name=description content="How to trace neurons in Horta
"><meta property="og:title" content="Tracing neurons"><meta property="og:description" content="How to trace neurons in Horta
"><meta property="og:type" content="article"><meta property="og:url" content="https://hortacloud.janelia.org/docs/user_manual/tutorials/tracing-neurons/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-07-28T15:09:45-04:00"><meta itemprop=name content="Tracing neurons"><meta itemprop=description content="How to trace neurons in Horta
"><meta itemprop=dateModified content="2022-07-28T15:09:45-04:00"><meta itemprop=wordCount content="2453"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Tracing neurons"><meta name=twitter:description content="How to trace neurons in Horta
"><link rel=preload href=/scss/main.min.a9b55832fcac0ae4e1abebd8fa418b962048ce55d2fe39e8ecb37040471492c2.css as=style><link href=/scss/main.min.a9b55832fcac0ae4e1abebd8fa418b962048ce55d2fe39e8ecb37040471492c2.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
<link rel=stylesheet href=/css/prism.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class=font-weight-bold>HortaCloud</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.5fb46ca466c3cc9913f3cc77b5cdbbc4.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.5fb46ca466c3cc9913f3cc77b5cdbbc4.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoverview-li><a href=/docs/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsoverview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsuser_manual-li><a href=/docs/user_manual/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser_manual><span>User manual</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualconcepts-li><a href=/docs/user_manual/concepts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualconcepts><span>Concepts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualappstream_basics-li><a href=/docs/user_manual/appstream_basics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualappstream_basics><span>AppStream Basics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsuser_manualtutorials-li><a href=/docs/user_manual/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser_manualtutorials><span>Tutorials</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualtutorialslogging-in-li><a href=/docs/user_manual/tutorials/logging-in/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualtutorialslogging-in><span>Logging in</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualtutorialsviewing-images-li><a href=/docs/user_manual/tutorials/viewing-images/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualtutorialsviewing-images><span>Viewing images</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualtutorialstracing-neurons-li><a href=/docs/user_manual/tutorials/tracing-neurons/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualtutorialstracing-neurons><span class=td-sidebar-nav-active-item>Tracing neurons</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualtutorialsimport-export-li><a href=/docs/user_manual/tutorials/import-export/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualtutorialsimport-export><span>Exporting and importing neurons</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualbasic_operations-li><a href=/docs/user_manual/basic_operations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualbasic_operations><span>Basic Operations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualfeatures-li><a href=/docs/user_manual/features/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualfeatures><span>Features</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualreference-li><a href=/docs/user_manual/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualreference><span>Reference</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsuser_manualissues-li><a href=/docs/user_manual/issues/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualissues><span>Reporting issues</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsadministration-li><a href=/docs/administration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsadministration><span>Administration guide</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-docsadministrationaws-li><a href=/docs/administration/aws/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsadministrationaws><span>AWS</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawscosts-li><a href=/docs/administration/aws/costs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawscosts><span>Costs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawsdeployment-li><a href=/docs/administration/aws/deployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawsdeployment><span>Deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawsbackups-li><a href=/docs/administration/aws/backups/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawsbackups><span>Backup & Restore</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawsupgrading-li><a href=/docs/administration/aws/upgrading/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawsupgrading><span>Upgrading</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawsoperation-li><a href=/docs/administration/aws/operation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawsoperation><span>Operation</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id=m-docsadministrationbare_metal-li><a href=/docs/administration/bare_metal/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsadministrationbare_metal><span>Bare metal</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metaltwoserverdeployment-li><a href=/docs/administration/bare_metal/twoserverdeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metaltwoserverdeployment><span>Two-server deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metalfulldeployment-li><a href=/docs/administration/bare_metal/fulldeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalfulldeployment><span>Three-server deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metalinstallingdocker-li><a href=/docs/administration/bare_metal/installingdocker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalinstallingdocker><span>Installing Docker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metalswarmdeployment-li><a href=/docs/administration/bare_metal/swarmdeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalswarmdeployment><span>Deploying JACS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metalelkdeployment-li><a href=/docs/administration/bare_metal/elkdeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalelkdeployment><span>Deploying ELK</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metalselfsignedcerts-li><a href=/docs/administration/bare_metal/selfsignedcerts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalselfsignedcerts><span>Self-signed Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metalstoragevolumes-li><a href=/docs/administration/bare_metal/storagevolumes/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalstoragevolumes><span>Storage volumes</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metaldataimport-li><a href=/docs/administration/bare_metal/dataimport/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metaldataimport><span>Data import</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationbare_metaltroubleshooting-li><a href=/docs/administration/bare_metal/troubleshooting/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metaltroubleshooting><span>Troubleshooting</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsdevelopment-li><a href=/docs/development/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsdevelopment><span>Developer's guide</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsdevelopmentgettingstarted-li><a href=/docs/development/gettingstarted/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelopmentgettingstarted><span>Getting started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsdevelopmentcomposedeployment-li><a href=/docs/development/composedeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelopmentcomposedeployment><span>Single server deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsdevelopmentcontributing-li><a href=/docs/development/contributing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelopmentcontributing><span>Contribution guidelines</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscontribution-guidelines-li><a href=/docs/contribution-guidelines/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscontribution-guidelines><span>Editing the documentation</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/JaneliaSciComp/hortacloud-website/tree/main/content/en/docs/user_manual/tutorials/tracing-neurons.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/JaneliaSciComp/hortacloud-website/edit/main/content/en/docs/user_manual/tutorials/tracing-neurons.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/JaneliaSciComp/hortacloud-website/new/main/content/en/docs/user_manual/tutorials/tracing-neurons.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/JaneliaSciComp/hortacloud-website/issues/new?title=Tracing%20neurons" class=td-page-meta--issue target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/JaneliaSciComp/hortacloud/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://hortacloud.janelia.org/docs/user_manual/tutorials/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#steps>Steps</a><ul><li><a href=#start-the-horta-application-and-open-a-sample-in-horta>Start the Horta Application and open a sample in Horta</a></li><li><a href=#create-a-workspace>Create a workspace</a></li><li><a href=#adjust-colors-and-save-the-color-model>Adjust colors and save the color model</a></li><li><a href=#create-a-neuron>Create a neuron</a></li><li><a href=#add-points>Add points</a></li><li><a href=#the-annotation-list-and-more-navigation>The annotation list and more navigation</a></li><li><a href=#moving-and-deleting-points>Moving and deleting points</a></li><li><a href=#branching>Branching</a></li></ul></li><li><a href=#continuing-work-in-the-workspace>Continuing work in the workspace</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://hortacloud.janelia.org/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://hortacloud.janelia.org/docs/user_manual/>User manual</a></li><li class=breadcrumb-item><a href=https://hortacloud.janelia.org/docs/user_manual/tutorials/>Tutorials</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://hortacloud.janelia.org/docs/user_manual/tutorials/tracing-neurons/>Tracing neurons</a></li></ol></nav><div class=td-content><h1>Tracing neurons</h1><div class=lead>How to trace neurons in Horta</div><header class=article-meta></header><p>In this tutorial, we&rsquo;ll go over the steps needed to begin tracing a neuron in Horta in the 3D view.</p><div class="alert alert-primary" role=alert><h4 class=alert-heading>HortaCloud-focused</h4>This tutorial is focused on HortaCloud. However, most of it applies to the desktop version of Horta as well. If you can launch Horta on the desktop, and you see data in the Data Explorer, you should be able to follow most of the other steps of the tutorial.</div><div class="alert alert-primary" role=alert><h4 class=alert-heading>3D-focused</h4><p>This tutorial doesn&rsquo;t cover tracing in 2D in detail. Most of it is the same (creating workspaces, neurons, shift-click to add points), but there are some slight differences. See the &ldquo;Basic Operations&rdquo; section for details on 2D tracing.</p><p>For HortaCloud, 2D tracing is rarely useful, as HortaCloud does not usually contain high-resolution 2D data. You&rsquo;re not going to be able to accurately place annotations with the low-resolution data.</p></div><h2 id=prerequisites>Prerequisites</h2><ul><li>You should be able to log into HortaCloud and launch the Horta application, as detailed in the first tutorial.</li><li>You should be able to open a sample in 3D and navigate the data, as detailed in the second tutorial.</li><li>Your HortaCloud instance should have access to the Janelia MouseLight data on Amazon AWS S3.<ul><li>If not, you should have access to some similar data in your HortaCloud instance.</li></ul></li></ul><h2 id=steps>Steps</h2><h3 id=start-the-horta-application-and-open-a-sample-in-horta>Start the Horta Application and open a sample in Horta</h3><p>As detailed in the previous two tutorials:</p><ol><li>Launch HortaCloud</li><li>Locate the <code>2018-07-02</code> sample in the Data Explorer and open it in the Horta Control Center</li><li>Open the sample in the 3D viewer</li></ol><h3 id=create-a-workspace>Create a workspace</h3><p>The sample that is listed in the Data Explorer, that we&rsquo;ve opened in Horta, is the representation of the image data in the database. In general, a user never needs to change this information&ndash;it&rsquo;s a static snapshot of the image data. The sample is shared among all users who will work with that dataset.</p><p>A workspace, by contrast, contains the neurons that a user has traced. The workspace initially belongs to and can only be seen by the user that created it, but it can then be shared with other users and/or groups.</p><p>To create a workspace:</p><ol><li>Open a sample in Horta (as done in the previous step); this is the dataset that the neuron tracing will be associated with</li><li>In the Horta Control Center at right, near the top, just under the &ldquo;Open 2d&rdquo; checkbox, click the button with the &ldquo;+&rdquo; on it.</li><li>By default, the dialog box that pops up provides a template for naming the workspace. For this tutorial, however, click the &ldquo;Manual override&rdquo; button to name the workspace without using the template. You can use the default name &ldquo;new workspace&rdquo; or enter another name, perhaps &ldquo;tutorial workspace&rdquo;. For this tutorial, leave &ldquo;Assign neurons&rdquo; unchecked.</li><li>Click &ldquo;OK&rdquo;</li></ol><a href=../images-tracing/workspace-naming-dialog.png><img src=../images-tracing/workspace-naming-dialog.png class="rounded mx-auto" alt="naming a new workspace"></a><p>The system will work for a moment, then it will reload the images, this time loading the workspace instead of the sample. You will notice that at the top of the Horta Control Center, the name you gave the workspace will appear just above the sample name now.</p><a href=../images-tracing/new-workspace-hcc.png><img src=../images-tracing/new-workspace-hcc.png class="rounded mx-auto" alt="new workspace in the Horta Control Center"></a><p>In the Data Explorer, this workspace will be located in your &ldquo;Home&rdquo; folder (the one with your username next to it in gold), within the &ldquo;Workspaces&rdquo; subfolder. You may need to click the refresh button (upper left corner, two arrows in a circle) in the Data Explorer before it shows up.</p><p>By default, you are the only person who can see, open, or edit the workspace, save Horta administrators. See the &ldquo;Basic Operations&rdquo; section for how to share data.</p><h3 id=adjust-colors-and-save-the-color-model>Adjust colors and save the color model</h3><p>One immediate advantage of the workspace is the ability to save color settings, which Horta calls the &ldquo;color model&rdquo;. Unlike the sample, which is (potentially) shared among many or all users, workspaces often belong to one user. They are therefore appropriate for storing information like color settings, which are often a matter of personal preference.</p><ul><li>First, if the 3D view is not open, click the &ldquo;Open 3D&rdquo; checkbox and/or switch to the &ldquo;Horta 3D&rdquo; tab as needed.</li><li>Then adjust colors as described in the previous tutorial and shown in screenshots therein. For this sample: set the second purple slider to midway between the left edge and the center lock icons; set the first green slider a bit to the left of the second slider; and hide the third blue channel.</li><li>Next, to save the color model, locate the gear menu in the 3D &ldquo;Color Sliders&rdquo; panel, to the right, just under the three channels&rsquo; color swatches. Note that the &ldquo;Horta 2D&rdquo; tab has its own color sliders. Be sure to use the 3D sliders for this tutorial.</li><li>From the gear menu, choose &ldquo;Save Color Model to Workspace&rdquo;.</li></ul><p>When you save a color model, all of the color slider settings are saved: channel colors, channel visibility, all sliders, and all locks. From this point forward, when you open this workspace, the color model will be loaded. If you change the color settings later and want to keep them, you&rsquo;ll need to save them again, however. The color model does not automatically save itself when changed.</p><p>The same applies to 2D; you can save the 2D color model (separately) from the gear menu in the 2D color slider area in the Horta 2D tab.</p><h3 id=create-a-neuron>Create a neuron</h3><p>Now, deep in the third tutorial, we are <em>finally</em> ready to trace a neuron!</p><p>In Horta, tracing neurons is done by placing a series of connected point annotations along the neuron signal in the images. These points form one or more trees of points, with each point having one parent point and zero, one, or more child points.</p><p>The Horta Control Center contains, below the &ldquo;Workspace&rdquo; area, a list of neurons and controls for interacting with neurons.</p><p>To create a neuron, click the &ldquo;+&rdquo; button below the neuron list, just below the &ldquo;Spatial filter&rdquo; label. The default name is &ldquo;Neuron 1&rdquo;, where the number will be incremented to be larger than existing neurons. You may also give the neuron any name you like, with some restrictions (ie, the <code>*</code> and <code>?</code> characters can&rsquo;t be used). You can rename the neuron at any time by right-clicking its name in the neuron list and choosing &ldquo;Rename&rdquo;. Once the neuron is created, the name will appear in the neuron list, and the neuron will be selected (highlighted).</p><p>The initial color is randomly chosen from a palette of about twenty. If you&rsquo;d like to change the color of the neuron, click the color swatch to the right of the neuron&rsquo;s name in the list and choose a new color from the dialog box.</p><a href=../images-tracing/new-neuron.png><img src=../images-tracing/new-neuron.png class="rounded mx-auto" alt="new neuron in the neuron list"></a><h3 id=add-points>Add points</h3><p>Let&rsquo;s find a neuron to trace. You can find any neuron you like (especially if you are not using the 2018-07-02 sample), but we&rsquo;ll provide the location of a sample neuron if you want to follow along closely. This neuron is chosen for demonstration purposes only! It may not even be traceable along its entire length.</p><p>To find the sample neuron:</p><ul><li>Right-click in the 3D view and choose &ldquo;Reset Horta Rotation&rdquo; so you are oriented in the default direction</li><li>Click the &ldquo;Go to&mldr;&rdquo; button in the Horta Control Center (described in more detail in the previous tutorial)</li><li>Enter the following coordinates and click OK: <code>[74130,18910,35035]</code><ul><li>Remember, if you copy and paste these coordinates, you&rsquo;ll need to choose the middle icon on the AppStream toolbar and choose &ldquo;Past to remote session&rdquo; to transfer the coordinates from your local computer&rsquo;s clipboard to the AppStream clipboard; once it&rsquo;s there, you can use control-V to paste as usual</li><li>See &ldquo;AppStream Basics&rdquo; for more information on copying and pasting to and from AppStream</li></ul></li></ul><p>We&rsquo;re going to trace a small part of the bright neuron making a hairpin turn from the right edge of the screen.</p><a href=../images-tracing/target-area.png><img src=../images-tracing/target-area.png class="rounded mx-auto" alt="target area for tracing"></a><p>The neuron you want to trace (&ldquo;Neuron 1&rdquo; in our case) should be highlighted in the neuron list. If it isn&rsquo;t, single click it. The list of annotations below the neuron list should be empty at this time, if you&rsquo;re following the tutorial exactly.</p><p>Navigate to the place you want to start tracing. Often this will be the soma of the neuron, but it can be anywhere. For this tutorial, we&rsquo;ll start placing points in the middle of it. By single-clicking to recenter, dragging the image, and zooming in and out, center the neuron in the view. Feel free to rotate if you like, but to make this tutorial easy to follow from the screenshots, we&rsquo;ll keep the default rotation.</p><p>Now move the mouse pointer over the signal, and over places near the signal but not on it. You&rsquo;ll notice that a blob with the letter &ldquo;P&rdquo; in it appears and reappears as you move the mouse. In fact, you will see that it snaps to the brightest pixels in a small neighborhood around the mouse pointer. If there are no bright pixels, it may not appear at all. This &ldquo;P&rdquo; cursor indicates where the point will be placed. Zoom in as much as you need to place the point accurately. Shift-left-click to place the first point when the &ldquo;P&rdquo; blob is visible and on top of signal. Near the (x, y, z) location shown above is a good place to place the first point.</p><a href=../images-tracing/first-point.png><img src=../images-tracing/first-point.png class="rounded mx-auto" alt="first point placed"></a><p>The first point appears! It&rsquo;ll be drawn in the color of the neuron, and it will also have a &ldquo;P&rdquo; indicator drawn on it (although that indicator may be difficult to read depending on the strength of the signal nearby). At this point, if you were to rotate the view, you&rsquo;ll see that the point lies properly on top of the signal in all dimensions. This is another feature of the &ldquo;P&rdquo; blob cursor: it senses the correct depth at which to place points. That is, it not only finds bright pixels in the plane of the display, it also finds the brightest pixel along the axis perpendicular to the screen (with a larger search neighborhood).</p><p>Move the mouse cursor along the neuron signal and shift-click again, working to the right of the screen on the upper segment. Repeat a few times until you have a short string of annotations, points connected by lines. The most recent point you&rsquo;ve placed always has a (sometimes faint) &ldquo;P&rdquo; icon. &ldquo;P&rdquo; stands for &ldquo;Parent&rdquo;: that is the point to which your next point will be connected.</p><a href=../images-tracing/few-points.png><img src=../images-tracing/few-points.png class="rounded mx-auto" alt="few points placed"></a><p>How densely should you place points? That depends on your intended scientific analysis. If you intend to determine region-to-region connectivity, you can annotate quite sparsely. However, if you intend to calculate neuron length or analyze neuron morphology, you will want to place points with smaller separation. If you&rsquo;re using the tracing as ground truth for machine learning purposes, you may want near pixel-perfect tracing. In this case, look at the main documentation for the &ldquo;automatically traced path&rdquo; feature, in which you can have the computer trace paths between human placed points.</p><h3 id=the-annotation-list-and-more-navigation>The annotation list and more navigation</h3><p>The annotations list now contains a summary of the points you&rsquo;ve placed. Not every point is listed&ndash;that would quickly get unwieldy&ndash;but the &ldquo;interesting&rdquo; points are. By default, the list includes every root point, endpoint, and branch point. It does not include points along a linear chain. But it also includes points that have some kind of user annotation attached to them (discussed elsewhere in the documentation). If you&rsquo;re following closely, there will only be two points in the annotation list at this time, the root point and the endpoint.</p><a href=../images-tracing/annotation-list.png><img src=../images-tracing/annotation-list.png class="rounded mx-auto" alt="annotation list with two entries"></a><p>Both the annotation list and the neuron list can be used for navigation.</p><ul><li>if you double-click a neuron in the neuron list, the view will center on the first point (the root point) in the neuron</li><li>if you double-click on an annotation in the annotation list, the view will center on it</li></ul><h3 id=moving-and-deleting-points>Moving and deleting points</h3><p>If you make any errors when adding points, there are easy ways to correct them.</p><p>If you need to move a point a short distance, left-click and drag it.</p><ul><li>in 2D, you can only drag in the same plane</li><li>in 3D, you can again only drag in the plane of the view; the point does <em>not</em> snap to bright pixels when you drag, so you&rsquo;ll probably have to rotate and drag multiple times from different angles to fine-tune the location</li></ul><p>To delete a point:</p><ul><li>in 2D: left click on it, then press the delete key on the keyboard</li><li>in 2D: right-click on it, then choose &ldquo;Delete link&rdquo; from the menu</li><li>in 3D: right-click on it, then choose &ldquo;Delete Vertex&rdquo; from the menu</li></ul><p>If you delete an annotation in a linear chain, it&rsquo;ll connect the two surrounding points. You can&rsquo;t delete the root of the tree or branch points (see below for more on branching). If you need to delete multiple points, see the &ldquo;Delete subtree&rdquo; feature described in the &ldquo;Basic Operations&rdquo; section.</p><h3 id=branching>Branching</h3><p>You will see that each time you shift-click, the &ldquo;P&rdquo; indicator moves to the point you&rsquo;ve most recently placed. &ldquo;P&rdquo; stands for &ldquo;Parent&rdquo;: that is the point to which your next point will be connected. This is how you&rsquo;ll create branches.</p><p>If you&rsquo;ve been following this tutorial closely, your neuron should be approaching a place where the signal branches. Continue adding points headed left until you reach the branch, and place a point directly on the branch location. If you&rsquo;re tracing on different data, find a convenient branch point, or imagine one (it&rsquo;s only a tutorial!).</p><p>At this point, the next parent icon (&ldquo;P&rdquo;) should be on the branch. Choose one arm of the neuron to trace, and add a few points. Now, go back to the branch point and single-click it so it again shows the &ldquo;P&rdquo; icon. This indicates that the next point you place will use this point (the branch point) as its parent. Add a few more points along the other branch. You&rsquo;ve now got a branching structure.</p><a href=../images-tracing/branch.png><img src=../images-tracing/branch.png class="rounded mx-auto" alt="branched neuron"></a><p>The annotation list now shows the root point, the branch point, and two endpoints.</p><a href=../images-tracing/annotation-list-branch.png><img src=../images-tracing/annotation-list-branch.png class="rounded mx-auto" alt="branched neuron"></a><p>There are workflows that help you manage the task of tracing a branched structure. See, for example, &ldquo;Simple workflow with notes and filters&rdquo; in the &ldquo;Features&rdquo; section</p><h2 id=continuing-work-in-the-workspace>Continuing work in the workspace</h2><p>Annotations are saved to the database immediately after they are placed. This goes for all operations; the application is in constant communication with the database, and all changes are saved immediately. You can quit at any time, and no work will be lost. In this respect, HortaCloud acts more like a mobile application than a desktop application.</p><p>When you want to continue work, simple open the workspace from the Data Explorer just as you earlier opened a sample. That is, right-click it in the Data Explorer and choose &ldquo;Open in Horta&rdquo;. The neuron data will load immediately. After that, you can choose &ldquo;Open 3D&rdquo; and continue work tracing.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/JaneliaSciComp/hortacloud-website/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/JaneliaSciComp/hortacloud-website/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof ga!="function")return;const t={command:"send",hitType:"event",category:"Helpful",action:"click",label:window.location.pathname,value:e};ga(t.command,t.hitType,t.category,t.action,t.label,t.value)};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified July 28, 2022: <a href=https://github.com/JaneliaSciComp/hortacloud-website/commit/ae3122eb42170d5c6204ced72371c8d372ba1259>added screenshots for the rest of the tutorials (ae3122e)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/hortacloud-support aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/HortaCloud aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/JaneliaSciComp/hortacloud-website aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Howard Hughes Medical Institute /</small>
<small><a class=text-white href=https://www.hhmi.org/privacy-policy target=_blank rel=noopener>Privacy Policy & Cookie Notice</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.91798a335c881f1b6b805085ba4aa22d1dbd2b0b18d105d05189fa104ddae350.js integrity="sha256-kXmKM1yIHxtrgFCFukqiLR29KwsY0QXQUYn6EE3a41A=" crossorigin=anonymous></script>
<script src=/js/prism.js></script></body></html>