<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.101.0"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Data import | HortaCloud</title><meta name=description content="How to convert data into Horta format
"><meta property="og:title" content="Data import"><meta property="og:description" content="How to convert data into Horta format
"><meta property="og:type" content="article"><meta property="og:url" content="https://hortacloud.janelia.org/docs/administration/bare_metal/dataimport/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-05-10T08:51:01-04:00"><meta itemprop=name content="Data import"><meta itemprop=description content="How to convert data into Horta format
"><meta itemprop=dateModified content="2022-05-10T08:51:01-04:00"><meta itemprop=wordCount content="815"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Data import"><meta name=twitter:description content="How to convert data into Horta format
"><link rel=preload href=/scss/main.min.a9b55832fcac0ae4e1abebd8fa418b962048ce55d2fe39e8ecb37040471492c2.css as=style><link href=/scss/main.min.a9b55832fcac0ae4e1abebd8fa418b962048ce55d2fe39e8ecb37040471492c2.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
<link rel=stylesheet href=/css/prism.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-00000000-0","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class=font-weight-bold>HortaCloud</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.fae358b0debedf44cd501abf48cb2095.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.fae358b0debedf44cd501abf48cb2095.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoverview-li><a href=/docs/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsoverview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsuser_manual-li><a href=/docs/user_manual/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsuser_manual><span>User manual</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsuser_manualconcepts-li><a href=/docs/user_manual/concepts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualconcepts><span>Concepts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsuser_manualappstream_basics-li><a href=/docs/user_manual/appstream_basics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualappstream_basics><span>AppStream Basics</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsuser_manualbasic_operations-li><a href=/docs/user_manual/basic_operations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualbasic_operations><span>Basic Operations</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsuser_manualfeatures-li><a href=/docs/user_manual/features/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualfeatures><span>Features</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsuser_manualreference-li><a href=/docs/user_manual/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsuser_manualreference><span>Reference</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsadministration-li><a href=/docs/administration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsadministration><span>Administration guide</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsadministrationaws-li><a href=/docs/administration/aws/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsadministrationaws><span>AWS</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawsbackup-li><a href=/docs/administration/aws/backup/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawsbackup><span>Backup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawsdeployment-li><a href=/docs/administration/aws/deployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawsdeployment><span>Deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsadministrationawsoperation-li><a href=/docs/administration/aws/operation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationawsoperation><span>Operation</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docsadministrationbare_metal-li><a href=/docs/administration/bare_metal/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsadministrationbare_metal><span>Bare metal</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metaltwoserverdeployment-li><a href=/docs/administration/bare_metal/twoserverdeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metaltwoserverdeployment><span>Two-server deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metalfulldeployment-li><a href=/docs/administration/bare_metal/fulldeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalfulldeployment><span>Three-server deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metalinstallingdocker-li><a href=/docs/administration/bare_metal/installingdocker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalinstallingdocker><span>Installing Docker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metalswarmdeployment-li><a href=/docs/administration/bare_metal/swarmdeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalswarmdeployment><span>Deploying JACS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metalelkdeployment-li><a href=/docs/administration/bare_metal/elkdeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalelkdeployment><span>Deploying ELK</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metalselfsignedcerts-li><a href=/docs/administration/bare_metal/selfsignedcerts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalselfsignedcerts><span>Self-signed Certificates</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metalstoragevolumes-li><a href=/docs/administration/bare_metal/storagevolumes/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metalstoragevolumes><span>Storage volumes</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metaldataimport-li><a href=/docs/administration/bare_metal/dataimport/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metaldataimport><span class=td-sidebar-nav-active-item>Data import</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsadministrationbare_metaltroubleshooting-li><a href=/docs/administration/bare_metal/troubleshooting/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsadministrationbare_metaltroubleshooting><span>Troubleshooting</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsdevelopment-li><a href=/docs/development/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsdevelopment><span>Developer's guide</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsdevelopmentgettingstarted-li><a href=/docs/development/gettingstarted/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelopmentgettingstarted><span>Getting started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsdevelopmentcomposedeployment-li><a href=/docs/development/composedeployment/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelopmentcomposedeployment><span>Single server deployment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docsdevelopmentcontributing-li><a href=/docs/development/contributing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelopmentcontributing><span>Contribution guidelines</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscontribution-guidelines-li><a href=/docs/contribution-guidelines/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscontribution-guidelines><span>Editing the documentation</span></a></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/JaneliaSciComp/hortacloud-website/tree/main/content/en/docs/administration/bare_metal/DataImport.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/JaneliaSciComp/hortacloud-website/edit/main/content/en/docs/administration/bare_metal/DataImport.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/JaneliaSciComp/hortacloud-website/new/main/content/en/docs/administration/bare_metal/DataImport.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/JaneliaSciComp/hortacloud-website/issues/new?title=Data%20import" class=td-page-meta--issue target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/JaneliaSciComp/hortacloud/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://hortacloud.janelia.org/docs/administration/bare_metal/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://hortacloud.janelia.org/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://hortacloud.janelia.org/docs/administration/>Administration guide</a></li><li class=breadcrumb-item><a href=https://hortacloud.janelia.org/docs/administration/bare_metal/>Bare metal</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://hortacloud.janelia.org/docs/administration/bare_metal/dataimport/>Data import</a></li></ol></nav><div class=td-content><h1>Data import</h1><div class=lead>How to convert data into Horta format</div><header class=article-meta></header><p>In principle, any 3d volumetric data can be imported into the MouseLight Workstation.
At this moment we only provide some very basic tools for converting only TIFF format images into the expected format on disk. Another limitation of the current tools is that the entire volume must be in a single tiff file (per channel)</p><p>The imagery for MouseLight Workstation is a directory containing TIFF and KTX images organized into octrees. JACS compute includes a a service that can generate the octree data from a single volume TIFF file. If there is more than 1 channel, the channels are numbered 0 .. n-1 and each channel is expected to be in its own file. For example if you have 2 channels you would have two tiff files:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/path/to/volume/volume.0.tiff
</span></span><span style=display:flex><span>/path/to/volume/volume.1.tiff
</span></span></code></pre></div><p>The import service requires docker or singularity installed because the actual conversion services are packaged in two docker containers - one that generates a TIFF octree and the other one that takes the TIFF octree and converts the octant channel images into the correspomding ktx blocks.</p><p>Currently pre-built containers for tiff octree tool and ktx tool are only available at Janelia&rsquo;s internal registry, but the containers build files are available at <a href=https://github.com/JaneliaSciComp/jacs-tools-docker.git>https://github.com/JaneliaSciComp/jacs-tools-docker.git</a> in the &rsquo;tiff_octree&rsquo; and &lsquo;ktx_octree&rsquo; subdirectories, respectively. KTX tool container can also be built from <a href=https://github.com/JaneliaSciComp/pyktx.git>https://github.com/JaneliaSciComp/pyktx.git</a>.</p><p>Generating the sample octree requires only a JACS Async service call which is a simple HTTP REST call that can be done using curl or Postman. This service can also be invoked from the JACS dashboard <a href=http://api-gateway-host:8080>http://api-gateway-host:8080</a> by going to the &ldquo;Services List&rdquo; after Login and selecting &ldquo;lvDataImport&rdquo;. The dashboard should also offer a brief description of each argument.</p><p>curl invocation to run the service with singularity (this is the JACS default):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -X POST <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  https://api-gateway-host/SCSW/JACS2AsyncServices/v2/async-services/lvDataImport <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#39;Accept: application/json&#39;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#39;Content-Type: application/json&#39;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -H <span style=color:#4e9a06>&#39;Authorization: Bearer Your_Token&#39;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  -d <span style=color:#4e9a06>&#39;{
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        &#34;args&#34;: [
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-containerProcessor&#34;, &#34;singularity&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-inputDir&#34;, &#34;/path/to/volumeData&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-inputFilenamePattern&#34;, &#34;test.{channel}.tif&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-outputDir&#34;, &#34;/path/to/lvv/sampleData&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-channels&#34;, &#34;0,1&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-levels&#34;, &#34;4&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-voxelSize&#34;, &#34;1,1,1&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-subtreeLengthForSubjobSplitting&#34;, 2,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-tiffOctreeContainerImage&#34;, &#34;docker://registry.int.janelia.org/jacs-scripts/octree:1.0&#34;,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>                &#34;-ktxOctreeContainerImage&#34;, &#34;docker://registry.int.janelia.org/jacs-scripts/pyktx:1.0&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>        ],
</span></span></span><span style=display:flex><span><span style=color:#4e9a06> &#34;resources&#34;: {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06> }
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>&#39;</span>
</span></span></code></pre></div><p>curl invocation to run the service with docker:</p><pre tabindex=0><code>curl -X POST \
  https://api-gateway-host/SCSW/JACS2AsyncServices/v2/lvDataImport \
  -H &#39;Accept: application/json&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -H &#39;Authorization: Bearer Your_Token&#39; \
  -d &#39;{
 &#34;args&#34;: [
  &#34;-containerProcessor&#34;, &#34;docker&#34;,
  &#34;-inputDir&#34;, &#34;/path/to/volumeData&#34;,
                &#34;-inputFilenamePattern&#34;, &#34;default.{channel}.tif&#34;,
  &#34;-outputDir&#34;, &#34;/path/to/lvv/sampleData&#34;,
  &#34;-channels&#34;, &#34;0&#34;,
  &#34;-levels&#34;, &#34;3&#34;,
  &#34;-voxelSize&#34;, &#34;1,1,1&#34;,
  &#34;-subtreeLengthForSubjobSplitting&#34;, 3,
  &#34;-tiffOctreeContainerImage&#34;, &#34;registry.int.janelia.org/jacs-scripts/octree:1.0&#34;,
  &#34;-ktxOctreeContainerImage&#34;, &#34;registry.int.janelia.org/jacs-scripts/pyktx:1.0&#34;
 ],
 &#34;resources&#34;: {
 }
}
&#39;
</code></pre><h3 id=arguments-description>Arguments description</h3><ul><li>containerProcessor - which container runtime to use docker or singularity</li><li>inputDir - path to original volume data</li><li>inputFileNamePattern - original tiff name. Notice that if you have multiple channels and the channel is anywhere in the name you can use <code>{channel}</code> which will be replaced with the actual channel number.</li><li>outputDir - where the octree will be generated - typically this is the sample data directory that will be imported in the workstation</li><li>channels - specifies a list of all available channels, e.g. &lsquo;0,1&rsquo; if there are two channels or &lsquo;0&rsquo; if there is only 1 channel.</li><li>levels - the number of octree levels. This is left up to the user and the service will not try to figure out the optimum value for the number of octree levels.</li><li>voxelSize - specifies the voxel size in um.</li><li>tiffOctreeContainerImage - tiff octree container image. Not that the format is slightly different for specifying the image name if docker is used or if singularity is used. Since singularity supports docker images, if singularity runtime is used you need to explictily specify that the image is a docker image.</li><li>ktxOctreeContainerImage - ktx octree container image. See above regarding the format based on container processor type.</li><li>subtreeLengthForSubjobSplitting - this parameter applies only for the ktx processor and it tells the service how to split the job and it has a default value of 5. The conversion process typically starts at a certain node and it performs tiff to ktx conversion for a specified number of levels. If you start a process at the root and convert all levels the job may take a while so if you want you have the option to parallelize it by going only for a limited number of levels from the root and start new jobs from all nodes at the level equal with the subtree depth. For example if you have 8 levels and you set <code>subtreeLengthForSubjobSplitting</code> to <code>3</code> then KTX conversion will start <code>1 + 8^3 + 8^6 = 1 + 512 + 262144 = 262657</code> jobs with the following parameters:
<code>"" 3, "111" 3, "112" 3, ..., "118" 3, ..., "888" 3, ..., "111111" 3, ..., "888888" 3</code>
If you leave the default (<code>subtreeLengthForSubjobSplitting=5</code>) then the KTX conversion will start only <code>1 + 8^5 = 32769</code> jobs (<code>"11111" 5, ..., "88888" 5</code>)</li></ul><p>Note that the service invocation requires authentication so before you invoke it, you need to obtain an JWS token from the authentication service - see the <a href=../swarmdeployment>Verify Functionality section on this page</a>.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/JaneliaSciComp/hortacloud-website/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/JaneliaSciComp/hortacloud-website/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof ga!="function")return;const t={command:"send",hitType:"event",category:"Helpful",action:"click",label:window.location.pathname,value:e};ga(t.command,t.hitType,t.category,t.action,t.label,t.value)};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified May 10, 2022: <a href=https://github.com/JaneliaSciComp/hortacloud-website/commit/b7ff1be2fdb1976604bcaddb6da0a997347f476e>imported jacs-cm documentation (b7ff1be)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="User mailing list" aria-label="User mailing list"><a class=text-white target=_blank rel=noopener href=https://groups.google.com/g/hortacloud-support aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/HortaCloud aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/JaneliaSciComp/hortacloud-website aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://scicomp-software.slack.com/archives/C03BZ177717 aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 Howard Hughes Medical Institute /</small>
<small><a class=text-white href=https://www.hhmi.org/privacy-policy target=_blank rel=noopener>Privacy Policy & Cookie Notice</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.91798a335c881f1b6b805085ba4aa22d1dbd2b0b18d105d05189fa104ddae350.js integrity="sha256-kXmKM1yIHxtrgFCFukqiLR29KwsY0QXQUYn6EE3a41A=" crossorigin=anonymous></script>
<script src=/js/prism.js></script></body></html>